<html>
<head>
  <title>Todos - Jasper MVC</title>
  <link rel="stylesheet" type="text/css" href="css/main.css" />
</head>
<body>
  <div id="views"></div>

  <script type="text/template" id="todoListTemplate">
    <div id="tasks">
      <h1>Todos</h1>

      <form>
        <input type="text" placeholder="What needs to be done?" data-action="enter:todo/insert">
      </form>

      <div class="items"> 
        <% _.each(jasperList, function(todo) { %> 
        <div class="item">
          <div class="view" title="Double click to edit...">
            <input type="checkbox">          
            <span><%= todo.title%></span> 
            <a class="destroy"></a>       
           </div>
        </div>
	      <% }); %>      
      </div>

      <%= JasperMvc.Controller.executeAction({ controller: "todo", action: "footer" }) %>
    </div>
  </script>

  <script type="text/template" id="todoFooterTemplate">
    <footer>
      <div class="count"><span class="countVal"><%= jasperModel.count %></span> left</div>
    </footer>
  </script>
</body>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js"></script>
<script type="text/javascript" src="/jasper-mvc.js"></script>
<script type="text/javascript" src="todo.controller.js"></script>
<script type="text/javascript" src="todo.routes.js"></script>

<script type="text/javascript">
  JasperMvc.Settings.setAppSelector("#views");
  JasperMvc.Run();
</script>

</html>
